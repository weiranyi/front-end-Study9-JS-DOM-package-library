{"version":3,"sources":["dom.js"],"names":["window","dom","create","string","container","document","createElement","innerHTML","trim","content","firstChild","after","node","node2","parentNode","insertBefore","nextSibling","before","append","parent","appendChild","wrap","remove","removeChild","empty","childNodes","array","x","push","attr","name","value","arguments","length","setAttribute","getAttribute","text","textContent","html","style","Object","object","key","class","add","className","classList","has","contains","on","evenName","fn","addEventListener","off","removeEventListener","find","selector","scope","querySelectorAll","children","siblings","Array","from","filter","n","next","nodeType","previous","previousSibling","each","nodeList","i","call","index","list"],"mappings":"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","file":"dom.20f7bf72.map","sourceRoot":"..\\src","sourcesContent":["window.dom = {\r\n    // 1.1、【增】创建一个节点\r\n    create(string){\r\n        // 'template'标签可以容纳任意标签\r\n        const container = document.createElement('template')\r\n        container.innerHTML = string.trim();\r\n        return container.content.firstChild;\r\n    },\r\n    // 1.2、【增】新增一个弟弟\r\n    after(node,node2){\r\n        // console.log(node.nextSibling); 打印出下一个节点\r\n        node.parentNode.insertBefore(node2,node.nextSibling);\r\n    },\r\n    // 1.3、【增】新增一个哥哥\r\n    before(node,node2) {\r\n        node.parentNode.insertBefore(node2,node);\r\n    },\r\n    // 1.4、【增】增加一个儿子\r\n    append(parent,node){\r\n        parent.appendChild(node);\r\n    },\r\n    // 1.5、【增】新增一个爸爸\r\n    wrap(node,parent){\r\n        dom.before(node,parent); // 增加一个兄弟\r\n        dom.append(parent,node); // 再追加到node后\r\n    },\r\n    // 2.1、【删】移除\r\n    remove(node){\r\n        // node.remove();该接口比较新,老些的浏览器不怎么支持\r\n        node.parentNode.removeChild(node);\r\n        return node;\r\n    },\r\n    // 2.2、【删】清空\r\n    empty(node) {\r\n        // node.innerHTML = '';\r\n        const {childNodes} = node; // const childNodes = node.childNodes;\r\n        const array = [];\r\n        let x = node.firstChild;\r\n        while (x){\r\n            array.push(dom.remove(node.firstChild));\r\n            x = node.firstChild;\r\n        }\r\n        return array;\r\n    },\r\n    // 3.1、【改】读写\r\n    /*\r\n     * 实现重载功能\r\n     */\r\n    attr(node,name,value){\r\n        if (arguments.length === 3){\r\n            node.setAttribute(name,value);\r\n        }else if (arguments.length ===2){\r\n            return node.getAttribute(name);\r\n        }\r\n\r\n    },\r\n    // 3.2、【改】写文本，具体情况具体分析\r\n    text(node,string) { // 适配、兼容\r\n        if (arguments.length === 2){\r\n            if ('innerText' in node) {\r\n                node.innerHTML = string; // ie\r\n            } else {\r\n                node.textContent = string; // firefox,Chrome\r\n            }\r\n        }else if (arguments.length===1){\r\n            if ('innerText' in node) {\r\n                return node.innerHTML;\r\n            } else {\r\n                return node.textContent;\r\n            }\r\n        }\r\n    },\r\n    html(node,string){\r\n        if (arguments.length===2){\r\n            node.innerHTML = string;\r\n        }else if (arguments.length===1){\r\n            return node.innerHTML = string;\r\n        }\r\n    },\r\n    // 3.3、【改】改样式\r\n    style(node,name,value){\r\n        if (arguments.length === 3){\r\n            // dom.style(div,'color','red')\r\n            node.style[name] = value;\r\n        }else if (arguments.length === 2){\r\n            if (typeof name === 'string'){\r\n                // dom.style(div,'color')\r\n                return node.style[name]\r\n            }else if (name instanceof Object){\r\n                const object =name;\r\n                for (let key in object){\r\n                    // dom.style(div,{color:'red'})\r\n                    // key:border/color\r\n                    // node.style.border = ...\r\n                    // node.style.color = ...\r\n                    node.style[key] = object[key];\r\n                }\r\n            }\r\n        }\r\n    },\r\n    // 3.4、【改】改样式\r\n    class:{\r\n        add(node,className){\r\n            node.classList.add(className);\r\n        },\r\n        remove(node,className){\r\n            node.classList.remove(className);\r\n        },\r\n        has(node,className){\r\n            return node.classList.contains(className);\r\n        }\r\n    },\r\n    // 3.4、【改】改事件\r\n    on(node,evenName,fn){\r\n        node.addEventListener(evenName,fn)\r\n    },\r\n    off(node,evenName,fn){\r\n        node.removeEventListener(evenName,fn)\r\n    },\r\n    // 4.1、【查】查事件\r\n    find(selector,scope){\r\n        // 返回一个数组\r\n        return (scope || document).querySelectorAll(selector)\r\n    },\r\n    parent(node){\r\n        return node.parentNode;\r\n    },\r\n    children(node){\r\n        return node.children;\r\n    },\r\n    siblings(node){\r\n        // 兄弟姐妹伪数组，再通过Array.from转换为数组\r\n        return Array.from(node.parentNode.children)\r\n            .filter(n=>n !== node);\r\n    },\r\n    next(node){\r\n        // 下一个节点\r\n        let x = node.nextSibling\r\n        while (x&& x.nodeType === 3){\r\n            x = x.nextSibling\r\n        }\r\n        return x;\r\n    },\r\n    previous(node){\r\n        // 下一个节点\r\n        let x = node.previousSibling\r\n        while (x&& x.nodeType === 3){\r\n            x = x.previousSibling\r\n        }\r\n        return x;\r\n    },\r\n    each(nodeList,fn){\r\n        for (let i = 0; i < nodeList.length; i++) {\r\n            fn.call(null,nodeList[i]);\r\n        }\r\n    },\r\n    index(node){\r\n        const list = dom.children(node.parentNode)\r\n        let i;\r\n        for (i = 0; i < list.length; i++) {\r\n            if (list[i]===node){\r\n                if (list[i]===node){\r\n                    break;\r\n                }\r\n            }\r\n            return i;\r\n        }\r\n    }\r\n\r\n};\r\n"]}