{"version":3,"sources":["dom.js"],"names":["window","dom","create","string","container","document","createElement","innerHTML","trim","content","firstChild","after","node","node2","parentNode","insertBefore","nextSibling","before","append","parent","appendChild","wrap","remove","removeChild","empty","childNodes","array","x","push","attr","name","value","arguments","length","setAttribute","getAttribute","text","textContent","html","style","Object","object","key","class","add","className","classList","has","contains","on","evenName","fn","addEventListener","off","removeEventListener","find","selector","scope","querySelectorAll","children","siblings","Array","from","filter","n","next","nodeType","previous","previousSibling","each","nodeList","i","call","index","list"],"mappings":"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","file":"dom.befe264d.map","sourceRoot":"../src","sourcesContent":["window.dom = {\n    // 1.1、【增】创建一个节点\n    create(string){\n        // 'template'标签可以容纳任意标签\n        const container = document.createElement('template')\n        container.innerHTML = string.trim();\n        return container.content.firstChild;\n        /* 操作template里面的dom，不能直接用template，要用template.content\n        * */\n    },\n    // 1.2、【增】新增一个弟弟\n    after(node,node2){\n        // console.log(node.nextSibling); 打印出下一个节点\n        node.parentNode.insertBefore(node2,node.nextSibling);\n        /* node.nextSibling：下一个节点为：文本节点、null都可以运行\n        * */\n    },\n    // 1.3、【增】新增一个哥哥\n    before(node,node2) {\n        node.parentNode.insertBefore(node2,node);\n    },\n    // 1.4、【增】增加一个儿子\n    append(parent,node){\n        parent.appendChild(node);\n    },\n    // 1.5、【增】新增一个爸爸\n    wrap(node,parent){\n        dom.before(node,parent); // 增加一个兄弟（1、parent做哥哥）\n        dom.append(parent,node); // 再追加到node后（2、parent做爸爸）\n    },\n    // 2.1、【删】移除\n    remove(node){\n        // node.remove();该接口比较新,老些的浏览器不怎么支持\n        node.parentNode.removeChild(node);\n        return node;\n    },\n    // 2.2、【删】清空\n    empty(node) {\n        // node.innerHTML = ''; 就没有节点的引用了\n        const {childNodes} = node; // const childNodes = node.childNodes;\n        const array = [];\n        let x = node.firstChild;\n        while (x){\n            array.push(dom.remove(node.firstChild));\n            x = node.firstChild;\n        }\n        /*\n        * 移除childNodes的节点时，length是动态变化的，所以采用while来遍历了！！！\n        * */\n        return array;\n    },\n    // 3.1、【改】读写\n    /*\n     * 实现重载功能\n     */\n    attr(node,name,value){\n        // 重载3个参数、2个参数\n        if (arguments.length === 3){\n            // 当参数长度\n            node.setAttribute(name,value);\n        }else if (arguments.length ===2){\n            return node.getAttribute(name);\n        }\n\n    },\n    // 3.2、【改】写文本，具体情况具体分析\n    text(node,string) { // 适配、兼容\n        if (arguments.length === 2){\n            if ('innerText' in node) {\n                node.innerHTML = string; // ie\n            } else {\n                node.textContent = string; // firefox,Chrome\n            }\n        }else if (arguments.length===1){\n            if ('innerText' in node) {\n                return node.innerHTML;\n            } else {\n                return node.textContent;\n            }\n        }\n    },\n    html(node,string){\n        if (arguments.length===2){\n            node.innerHTML = string;\n        }else if (arguments.length===1){\n            return node.innerHTML;\n        }\n    },\n    // 3.3、【改】改样式\n    style(node,name,value){\n        if (arguments.length === 3){\n            // dom.style(test,'border','1px solid black');\n            node.style[name] = value;\n        }else if (arguments.length === 2){\n            if (typeof name === 'string'){\n                // dom.style(test,'border')\n                return node.style[name]\n            }else if (name instanceof Object){\n                const object =name; // 设置别名\n                for (let key in object){\n                    // dom.style(test,{border:'1px solid red',color:'blue'});\n                    // key:border/color\n                    // node.style.border = ...\n                    // node.style.color = ...\n                    node.style[key] = object[key];\n                }\n            }\n        }\n    },\n    // 3.4、【改】改样式\n    class:{\n        add(node,className){\n            node.classList.add(className);\n        },\n        remove(node,className){\n            node.classList.remove(className);\n        },\n        has(node,className){\n            return node.classList.contains(className);\n        }\n    },\n    // 3.5、【改】改事件\n    on(node,evenName,fn){\n        node.addEventListener(evenName,fn)\n    },\n    off(node,evenName,fn){\n        node.removeEventListener(evenName,fn)\n    },\n\n    // 4.1、【查】\n    find(selector,scope){\n        // 返回一个数组,有范围就用scope，没有就从document中找\n        return (scope || document).querySelectorAll(selector)\n    },\n    parent(node){\n        return node.parentNode;\n    },\n    children(node){\n        return node.children;\n    },\n    siblings(node){\n        // 兄弟姐妹伪数组，再通过Array.from转换为数组\n        return Array.from(node.parentNode.children)\n            .filter(n=>n !== node);\n    },\n    next(node){\n        // 下一个节点\n        let x = node.nextSibling\n        while (x&& x.nodeType === 3){\n            x = x.nextSibling\n        }\n        return x;\n    },\n    previous(node){\n        // 下一个节点\n        let x = node.previousSibling\n        while (x&& x.nodeType === 3){\n            x = x.previousSibling\n        }\n        return x;\n    },\n    each(nodeList,fn){\n        for (let i = 0; i < nodeList.length; i++) {\n            fn.call(null,nodeList[i]);\n        }\n    },\n    index(node){\n        const list = dom.children(node.parentNode)\n        let i;\n        for (i = 0; i < list.length; i++) {\n            if (list[i]===node){\n                    break;\n            }\n        }\n        return i;\n    }\n\n};\n"]}